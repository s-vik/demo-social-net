(this["webpackJsonpninja-app"]=this["webpackJsonpninja-app"]||[]).push([[0],{127:function(e,t,n){e.exports={dialogs_bg:"News_dialogs_bg__3YgKG"}},128:function(e,t,n){e.exports={dialogs_bg:"Music_dialogs_bg__30eIN"}},129:function(e,t,n){e.exports={dialogs_bg:"Settings_dialogs_bg__1mm2f"}},131:function(e,t,n){e.exports={messages:"Message_messages__11r0A",message:"Message_message__1MOXo"}},135:function(e,t){e.exports="data:image/png;base64,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"},136:function(e,t,n){e.exports={preloader:"preloader_preloader__S35tt"}},137:function(e,t,n){e.exports=n.p+"static/media/preloader.634e5542.svg"},139:function(e,t,n){e.exports={item:"Post_item__ihtu9"}},14:function(e,t,n){e.exports={App_nav:"Nav_App_nav__3Cu02",item:"Nav_item__96rLj",active:"Nav_active__XSt-p"}},140:function(e,t,n){e.exports={footer:"Footer_footer__1w0lV"}},168:function(e,t,n){e.exports=n(294)},173:function(e,t,n){},174:function(e,t,n){},27:function(e,t,n){e.exports={ava:"users_ava__1PGkm",user:"users_user__1fmHm",innerBlock_10:"users_innerBlock_10__pbIiu",innerBlock_20:"users_innerBlock_20__1eOTn",innerBlock_70:"users_innerBlock_70__rW60K",selectedPage:"users_selectedPage__1mnwI",pagination:"users_pagination__3wI4e"}},294:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(61),s=n.n(o),i=(n(173),n(174),n(26)),l=n(127),c=n.n(l),u=function(){return r.a.createElement("div",{className:c.a.dialogs_bg},"News")},m=n(128),g=n.n(m),d=function(){return r.a.createElement("div",{className:g.a.dialogs_bg},"Music")},f=n(129),p=n.n(f),E=function(){return r.a.createElement("div",{className:p.a.dialogs_bg},"Settings")},b=n(21),v=n(4),h={dialogs:[{id:1,name:"Viktor",ava:"https://download-cs.net/steam/avatars/3377.jpg"},{id:2,name:"Inna",ava:"https://download-cs.net/steam/avatars/3377.jpg"},{id:3,name:"Dimych",ava:"https://download-cs.net/steam/avatars/3377.jpg"},{id:4,name:"Ihor",ava:"https://download-cs.net/steam/avatars/3377.jpg"},{id:5,name:"Toxa",ava:"https://download-cs.net/steam/avatars/3377.jpg"},{id:6,name:"Ruslan",ava:"https://download-cs.net/steam/avatars/3377.jpg"}],messages:[{id:1,message:"Hi"},{id:2,message:"How is your React?"},{id:3,message:"Thanks, very well"}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":return Object(v.a)(Object(v.a)({},e),{},{messages:[].concat(Object(b.a)(e.messages),[{id:3,message:t.newMessageBody}])});default:return e}},O=n(69),j=n.n(O),S=n(87),P=n.n(S),N=n(10),w=function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",{className:P.a.dialog+" "+P.a.active},r.a.createElement(N.b,{to:t},r.a.createElement("img",{src:e.ava,alt:"ava"})," ",e.name))},A=n(131),U=n.n(A),C=function(e){return r.a.createElement("div",{className:U.a.message},e.message)},I=n(124),k=n(125),y=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(I.a,{name:"newMessage",component:"textarea",placeholder:"Enter your message"}),r.a.createElement("button",null,"Click here"))};y=Object(k.a)({form:"newMessage"})(y);var F,D=function(e){var t=e.state.dialogs.map((function(e){return r.a.createElement(w,{name:e.name,key:e.id,id:e.id,ava:e.ava})})),n=e.state.messages.map((function(e){return r.a.createElement(C,{message:e.message,key:e.id,id:e.id})}));return r.a.createElement("div",{className:j.a.dialogs},r.a.createElement("div",{className:j.a.dialogs_items},t),r.a.createElement("div",{className:j.a.messages},n,r.a.createElement(y,{onSubmit:function(t){e.addMessage(t.newMessage)}})))},T=n(9),G=n(65),R=n(66),x=n(68),L=n(67),M=function(e){return{isAuth:e.auth.isAuth}},B=n(7),z=Object(B.d)(Object(T.b)((function(e){return{state:e.dialogsPage}}),{addMessage:function(e){return{type:"ADD-MESSAGE",newMessageBody:e}}}),(function(e){var t=function(t){Object(x.a)(a,t);var n=Object(L.a)(a);function a(){return Object(G.a)(this,a),n.apply(this,arguments)}return Object(R.a)(a,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(i.a,{to:"/login"})}}]),a}(r.a.Component);return Object(T.b)(M)(t)}))(D),K=n(51),W=n.n(K),Z=n(92),H=n(134).create({withCredentials:!0,headers:{"API-KEY":"d3aed1f3-1ea4-42da-a8e8-950c8b512175"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),V=function(e,t){return H.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},J=function(e){return H.delete("follow/".concat(e))},Q=function(e){return H.post("follow/".concat(e),{})},Y=function(e){return H.get("profile/".concat(e))},X=function(e){return H.get("profile/status/".concat(e))},q=function(e){return H.put("profile/status",{status:e})},$=function(){return H.get("auth/me")},ee=function(e,t,n){return H.post("auth/login",{email:e,password:t,rememberMe:n})},te=function(){return H.delete("auth/login")},ne={getRandomUser:function(){var e=this;return H.get("profile/".concat(~~(100*Math.random()))).catch((function(t){return e.getRandomUser()}))}},ae=function(e,t,n,a){return e.map((function(e){return e[t]===n?Object(v.a)(Object(v.a)({},e),a):e}))},re={users:[],totalCount:0,currentPage:1,pageSize:8,isFetching:!1,followingInProgress:[]},oe=function(e){return{type:"FOLLOW",userId:e}},se=function(e){return{type:"UN_FOLLOW",userId:e}},ie=function(e){return{type:"SET_IS_FETCHING",isFetching:e}},le=function(e,t){return{type:"TOGGLE_FOLLOWING_IN_PROGRESS",isFetching:e,id:t}},ce=function(){var e=Object(Z.a)(W.a.mark((function e(t,n,a,r){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(le(!0,r)),e.next=3,n(r);case 3:0===e.sent.data.resultCode&&t(a(r)),t(le(!1,r));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(v.a)(Object(v.a)({},e),{},{users:ae(e.users,"id",t.userId,{followed:!0})});case"UN_FOLLOW":return Object(v.a)(Object(v.a)({},e),{},{users:ae(e.users,"id",t.userId,{followed:!1})});case"SET_USERS":return Object(v.a)(Object(v.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(v.a)(Object(v.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(v.a)(Object(v.a)({},e),{},{totalCount:t.totalCount});case"SET_IS_FETCHING":return Object(v.a)(Object(v.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_FOLLOWING_IN_PROGRESS":return Object(v.a)(Object(v.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(b.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!==t.id}))});default:return e}},me=n(27),ge=n.n(me),de=n(135),fe=n.n(de),pe=function(e){var t=e.user,n=e.followingInProgress,a=e.unFollow,o=e.follow;return r.a.createElement("div",{className:ge.a.user,key:t.id},r.a.createElement("div",{className:ge.a.innerBlock_10},r.a.createElement(N.b,{to:"profile/"+t.id},r.a.createElement("img",{className:ge.a.ava,src:null!=t.photos.small?t.photos.small:fe.a,alt:"ava"})),r.a.createElement("div",null," ",t.followed?r.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"unFollow"):r.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){o(t.id)}},"Follow"))),r.a.createElement("div",{className:ge.a.innerBlock_20},r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.status)),r.a.createElement("div",{className:ge.a.innerBlock_70},r.a.createElement("div",null,"user.from.country",r.a.createElement("div",null,"user.from.city"))))},Ee=n(50),be=n(52),ve=n.n(be),he=function(e){for(var t=e.totalCount,n=e.pageSize,o=e.onPageChanged,s=e.currentPage,i=e.portionSize,l=void 0===i?10:i,c=Math.ceil(t/n),u=[],m=1;m<=c;m++)u.push(m);var g=Math.ceil(c/l),d=Math.ceil(s/l),f=Object(a.useState)(d),p=Object(Ee.a)(f,2),E=p[0],b=p[1],v=(E-1)*l+1,h=E*l;return r.a.createElement("ul",{className:ve.a.list},E>1&&r.a.createElement("button",{onClick:function(){return b(E-1)}},"Prev"),u.filter((function(e){return e>=v&&e<=h})).map((function(e,t){return r.a.createElement("li",{onClick:function(){o(e)},className:s===e?"".concat(ve.a.selectedPage," ").concat(ve.a.pagination):" ".concat(ve.a.pagination),key:t},e)})),g>E&&r.a.createElement("button",{onClick:function(){return b(E+1)}},"Next"))},_e=function(e){return r.a.createElement("div",{className:ge.a.container},r.a.createElement(he,{totalCount:e.totalCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),e.users.map((function(t,n){return r.a.createElement(pe,{user:t,followingInProgress:e.followingInProgress,unFollow:e.unFollow,follow:e.follow,key:n})})))},Oe=n(136),je=n.n(Oe),Se=n(137),Pe=n.n(Se),Ne=function(e){return r.a.createElement("div",null,r.a.createElement("img",{className:je.a.preloader,src:Pe.a,alt:"preloader"}))},we=n(138),Ae=function(e){return e.usersPage.users},Ue=(Object(we.a)(Ae,(function(e){return e.usersPage.isFetching}),(function(e){return e.filter((function(e){return!0}))})),Object(B.d)(Object(T.b)((function(e){return{users:Ae(e),totalCount:e.usersPage.totalCount,currentPage:e.usersPage.currentPage,pageSize:e.usersPage.pageSize,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{follow:function(e){return function(t){ce(t,Q,oe,e)}},unFollow:function(e){return function(t){ce(t,J,se,e)}},setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},getUsers:function(e,t){return function(){var n=Object(Z.a)(W.a.mark((function n(a){var r;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ie(!0)),n.next=3,V(e,t);case 3:(r=n.sent).error||(a({type:"SET_USERS",users:r.items}),a({type:"SET_TOTAL_USERS_COUNT",totalCount:r.totalCount}),a(ie(!1)));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))((function(e){Object(a.useEffect)((function(){e.getUsers(e.currentPage,e.pageSize)}),[e,e.currentPage,e.pageSize]);return r.a.createElement(r.a.Fragment,null,e.isFetching?r.a.createElement(Ne,null):null,r.a.createElement(_e,{totalCount:e.totalCount,pageSize:e.pageSize,onPageChanged:function(t){e.setCurrentPage(t),e.getUsers(t,e.pageSize)},currentPage:e.currentPage,users:e.users,unFollow:e.unFollow,follow:e.follow,followingInProgress:e.followingInProgress}))}))),Ce=n(93),Ie=n.n(Ce),ke=n(142),ye=n(32),Fe=n.n(ye),De=function(e){return function(t){var n=t.input,a=t.meta,o=Object(ke.a)(t,["input","meta"]);return r.a.createElement("div",{className:Fe.a.forControl},r.a.createElement(e,Object.assign({},o,n,{className:a.error&&a.active?Fe.a.error:""})),a.error&&a.active&&r.a.createElement("div",{className:Fe.a.errorMessage},a.error))}},Te=function(e){if(!e)return"this field is required"},Ge=function(e){return function(t){if(t.length>e)return"Must be ".concat(e," characters or less")}},Re=De("input"),xe=Ge(30),Le=Object(k.a)({form:"userStatus"})((function(e){var t=Object(a.useState)(!1),n=Object(Ee.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)(e.status),l=Object(Ee.a)(i,2),c=l[0],u=l[1];Object(a.useEffect)((function(){e.initialize({userStatus:e.status})}),[e,e.status]);return r.a.createElement(r.a.Fragment,null,!o&&r.a.createElement("li",null,"Status :  ",r.a.createElement("span",{onDoubleClick:function(){e.authUserId===e.profile.userId&&s(!0)}},e.status||"...")),o&&r.a.createElement("li",null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(I.a,{validate:[xe],onBlur:function(){s(!1),e.valid&&e.updateStatus(c)},onChange:function(e){u(e.target.value)},type:"text",component:Re,name:"userStatus"})))))})),Me=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:Ie.a.descriptionBlock},r.a.createElement("img",{src:e.profile.photos.large||"https://download-cs.net/steam/avatars/3377.jpg",alt:"ava"}),r.a.createElement("ul",{className:Ie.a.descriptionList},r.a.createElement("li",null,"Name : ",e.profile.fullName),r.a.createElement("li",null,"Looking for a job : ",e.profile.lookingForAJob?"yes":"no"),r.a.createElement("li",null,"About me : ",e.profile.aboutMe),r.a.createElement(Le,Object.assign({},e,{updateStatus:e.updateStatus,status:e.status})))))},Be={posts:[{id:1,likeCount:25,message:"Hi, how are you?"},{id:2,likeCount:30,message:"I'm fine, and you?"}],profile:null,status:"",isFetching:!1},ze=function(e){return{type:"SET_USER_PROFILE",profile:e}},Ke=function(e){return{type:"SET_STATUS",status:e}},We=function(e){return{type:"SET_IS_FETCHING",isFetching:e}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(v.a)(Object(v.a)({},e),{},{posts:[].concat(Object(b.a)(e.posts),[{id:5,likeCount:0,message:t.inputValue}])});case"SET_USER_PROFILE":return Object(v.a)(Object(v.a)({},e),{},{profile:t.profile});case"SET_IS_FETCHING":return Object(v.a)(Object(v.a)({},e),{},{isFetching:t.isFetching});case"SET_STATUS":return Object(v.a)(Object(v.a)({},e),{},{status:t.status});default:return e}},He=function(e){return function(t){t(ze(null)),t(We(!0)),Y(e).then((function(e){"OK"===e.statusText&&(t(ze(e.data)),t(We(!1)))}))}},Ve=function(e){return function(t){X(e).then((function(e){t(Ke(e.data))}))}},Je=n(39),Qe=n.n(Je),Ye=n(139),Xe=n.n(Ye),qe=function(e){return r.a.createElement("div",{className:Xe.a.item},r.a.createElement("img",{alt:"post",src:"https://hornews.com/images/news_large/c1d4b2b8ec608ea72764c5678816d5c9.jpg"}),e.message,r.a.createElement("span",null,"like ",e.likeCount))},$e=De("textarea"),et=Ge(20),tt=(F=5,function(e){if(e.length<F)return"Must be at least ".concat(F)}),nt=function(e){return r.a.createElement("form",{className:Qe.a.postForm,onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(I.a,{validate:[Te,et,tt],component:$e,placeholder:"Enter your post",name:"newPost"})),r.a.createElement("div",{className:Qe.a.postButtonContainer},r.a.createElement("button",{className:Qe.a.postButton},"Add post")))};nt=Object(k.a)({form:"post"})(nt);var at=function(e){var t=e.posts.map((function(e){return r.a.createElement(qe,{key:e.id,likeCount:e.likeCount,message:e.message})}));return r.a.createElement("div",{className:Qe.a.postBlock},r.a.createElement("h3",null,"My post"),r.a.createElement(nt,{onSubmit:function(t){e.addPost(t.newPost)}}),r.a.createElement("div",{className:Qe.a.posts},t))},rt=Object(T.b)((function(e){return{posts:e.profilePage.posts,currentInputValue:e.profilePage.inputValue}}),{addPost:function(e){return{type:"ADD-POST",inputValue:e}}})(at),ot=function(e){return r.a.createElement("div",null,r.a.createElement(Me,Object.assign({},e,{updateStatus:e.updateStatus,status:e.status,profile:e.profile})),e.authUserId===e.profile.userId&&r.a.createElement(rt,null))},st=function(e){return e.profilePage.profile},it=function(e){return e.auth.id},lt=function(e){return e.profilePage.status},ct=function(e){return e.profilePage.isFetching},ut=Object(B.d)(Object(T.b)((function(e){return{profile:st(e),authUserId:it(e),status:lt(e),isFetching:ct(e)}}),{setUserProfile:He,setStatus:Ve,updateStatus:function(e){return function(t){q(e).then((function(n){0===n.data.resultCode&&t(Ke(e))}))}}}),i.g)((function(e){var t=e.match.params.userId||e.authUserId;return Object(a.useEffect)((function(){t?(e.setUserProfile(t),e.setStatus(t)):e.history.push("/login")}),[e,t]),e.isFetching?r.a.createElement(Ne,null):e.profile?r.a.createElement(ot,e):null})),mt=n(40),gt=n.n(mt),dt=function(e){return r.a.createElement("header",{className:gt.a.App_header},r.a.createElement("img",{className:gt.a.logo,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/NASA_logo.svg/1200px-NASA_logo.svg.png",alt:"logo"}),r.a.createElement("div",{className:gt.a.login},e.authUserData.isAuth?r.a.createElement("div",null,r.a.createElement(N.b,{to:"/profile"},"Welcome, "+e.authUserData.login)," ",r.a.createElement("button",{className:gt.a.loginButton,onClick:e.logout},"Logout")):r.a.createElement(N.b,{className:gt.a.loginButton,to:"/login"},"login")))},ft=n(30),pt={id:null,email:null,login:null,isAuth:!1,error:null,isFetching:!1},Et=function(e,t,n,a){return{type:"SET_AUTH_USER_DATA",data:{id:e,email:t,login:n,isAuth:a}}},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER_DATA":return Object(v.a)(Object(v.a)({},e),t.data);case"SET_AUTH_USER_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:t.error});case"TOGGLE_IS_FETCHING":return Object(v.a)(Object(v.a)({},e),{},{isFetching:t.isFetching});default:return e}},vt=function(){return function(e){return $().then((function(t){if(0===t.data.resultCode){var n=t.data.data,a=n.id,r=n.email,o=n.login;e(Et(a,r,o,!0))}})).catch((function(t){e(function(e){return{type:"SET_AUTH_USER_ERROR",error:e}}(t.message)),console.log(t.message)}))}},ht=function(e){Object(x.a)(n,e);var t=Object(L.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"render",value:function(){return r.a.createElement(dt,Object.assign({},this.props,{logout:this.props.logout}))}}]),n}(r.a.Component),_t=Object(T.b)((function(e){return{authUserData:e.auth}}),{setAuthUserData:vt,logout:function(){return function(e){te().then((function(t){0===t.data.resultCode&&e(Et(null,null,null,!1))})).catch((function(e){return console.log(e.message)}))}}})(ht),Ot=De("input"),jt=Object(k.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(I.a,{validate:[Te],component:Ot,placeholder:"Login",name:"login"})),r.a.createElement("div",null,r.a.createElement(I.a,{validate:[Te],component:Ot,placeholder:"Password",name:"password",type:"password"})),r.a.createElement("div",null,r.a.createElement(I.a,{component:Ot,type:"checkbox",name:"rememberMe"})," remember me"),r.a.createElement("div",{className:e.error&&Fe.a.loginError},e.error),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),St=Object(T.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(a){ee(e,t,n).then((function(e){0===e.data.resultCode?a(vt()):a(Object(ft.a)("login",{_error:e.data.messages[0]||"Some error"}))})).catch((function(e){return console.log(e.message)}))}}})((function(e){return e.isAuth?r.a.createElement(i.a,{to:"/profile"}):r.a.createElement("div",{className:Fe.a.loginForm},r.a.createElement("h1",null,"Login"),r.a.createElement(jt,{onSubmit:function(t){var n=t.login,a=t.password,r=t.rememberMe;e.login(n,a,r)}}))})),Pt={initialized:!1},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP_INITIALIZATION":return Object(v.a)(Object(v.a)({},e),{},{initialized:!0});default:return e}},wt=n(38),At=n.n(wt),Ut=n(14),Ct=n.n(Ut),It=function(e){return r.a.createElement("nav",{className:Ct.a.App_nav},r.a.createElement("ul",null,r.a.createElement("li",{className:Ct.a.item},r.a.createElement(N.b,{to:"/profile",activeClassName:Ct.a.active},"Profile")),r.a.createElement("li",{className:Ct.a.item},r.a.createElement(N.b,{to:"/dialogs",activeClassName:Ct.a.active},"Messages")),r.a.createElement("li",{className:Ct.a.item},r.a.createElement(N.b,{to:"/users",activeClassName:Ct.a.active},"Users")),r.a.createElement("li",{className:Ct.a.item},r.a.createElement(N.b,{to:"/news",activeClassName:Ct.a.active},"News")),r.a.createElement("li",{className:Ct.a.item},r.a.createElement(N.b,{to:"/music",activeClassName:Ct.a.active},"Music")),r.a.createElement("li",{className:Ct.a.item},r.a.createElement(N.b,{to:"/settings",activeClassName:Ct.a.active},"Settings"))))},kt=function(e){return r.a.createElement("div",{className:At.a.makeFriends},r.a.createElement("h2",null,"Make friends"),r.a.createElement("ul",{className:At.a.friends},e.randomUsers.map((function(e){return r.a.createElement("li",{key:e.userId,className:At.a.item},r.a.createElement(N.b,{to:"/profile/".concat(e.userId)},r.a.createElement("img",{src:e.photos.small||"https://download-cs.net/steam/avatars/3377.jpg",alt:"ava"}),r.a.createElement("p",null,e.fullName)))}))))},yt={randomUsers:[]},Ft=function(e){return{type:"SET_RANDOM_USER",randomUser:e}},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RANDOM_USER":return Object(v.a)(Object(v.a)({},e),{},{randomUsers:Array.isArray(t.randomUser)?Object(b.a)(t.randomUser).filter((function(e,t,n){return t===n.findIndex((function(t){return t.userId===e.userId}))})):[].concat(Object(b.a)(e.randomUsers),[t.randomUser]).filter((function(e,t,n){return t===n.findIndex((function(t){return t.userId===e.userId}))}))});default:return e}},Tt=Object(T.b)((function(e){return{randomUsers:e.sidebarRandomUser.randomUsers}}),{setRandomUser:function e(){return function(t){ne.getRandomUser().then((function(e){t(Ft(e.data))})).catch((function(t){return e()}))}},setUserProfile:He,setStatus:Ve,setRandomUserAccess:Ft})((function(e){return e.randomUsers.length<3&&e.setRandomUser(),r.a.createElement(kt,Object.assign({},e,{setUserProfile:e.setUserProfile,setStatus:e.setStatus}))})),Gt=function(e){return r.a.createElement("section",{className:At.a.sidebarContainer},r.a.createElement(It,null),r.a.createElement(Tt,null))},Rt=n(140),xt=n.n(Rt),Lt=function(e){return r.a.createElement("footer",{className:xt.a.footer},r.a.createElement("ul",null,r.a.createElement("li",null,"SomeLinks"),r.a.createElement("li",null,"SomeLinks")),r.a.createElement("ul",null,r.a.createElement("li",null,"SomeLinks"),r.a.createElement("li",null,"SomeLinks")))},Mt=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(_t,null),r.a.createElement(Gt,null),r.a.createElement("div",{className:"App_content_wrapper"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/dialogs",render:function(){return r.a.createElement(z,null)}}),r.a.createElement(i.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(ut,null)}}),r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return r.a.createElement(ut,null)}}),r.a.createElement(i.b,{path:"/users",render:function(){return r.a.createElement(Ue,null)}}),r.a.createElement(i.b,{path:"/login",render:function(){return r.a.createElement(St,null)}}),r.a.createElement(i.b,{path:"/news",component:u}),r.a.createElement(i.b,{path:"/music",component:d}),r.a.createElement(i.b,{path:"/settings",component:E}))),r.a.createElement(Lt,null))},Bt=Object(B.d)(i.g,Object(T.b)((function(e){return{initialized:e.app.initialized}}),{appInitialization:function(){return function(e){var t=e(vt());Promise.all([t]).then((function(){e({type:"APP_INITIALIZATION"})}))}}}))((function(e){return Object(a.useEffect)((function(){e.appInitialization()}),[e,e.initialized]),e.initialized?r.a.createElement(Mt,null):r.a.createElement(Ne,null)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var zt=n(141),Kt=n(126),Wt=Object(B.c)({profilePage:Ze,dialogsPage:_,sidebarRandomUser:Dt,usersPage:ue,auth:bt,form:Kt.a,app:Nt}),Zt=Object(B.e)(Wt,Object(B.a)(zt.a));window.store=Zt;var Ht=Zt;s.a.render(r.a.createElement(N.a,null,r.a.createElement(T.a,{store:Ht},r.a.createElement(Bt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,t,n){e.exports={error:"formControls_error__1AJZ1",forControl:"formControls_forControl__yzKwc",errorMessage:"formControls_errorMessage__2eBU3",loginError:"formControls_loginError__3KL_E",loginForm:"formControls_loginForm__2tetV"}},38:function(e,t,n){e.exports={makeFriends:"Sidebar_makeFriends__34ml2",friends:"Sidebar_friends__Uc3Oo",sidebarContainer:"Sidebar_sidebarContainer__104u2",App_sidebar:"Sidebar_App_sidebar__-RQkk"}},39:function(e,t,n){e.exports={postBlock:"MyPosts_postBlock__3b6E0",posts:"MyPosts_posts__3tZ1c",postButton:"MyPosts_postButton__CMQyo",postForm:"MyPosts_postForm__YoPPq",postButtonContainer:"MyPosts_postButtonContainer__1DDGQ"}},40:function(e,t,n){e.exports={App_header:"Header_App_header__2kw4G",logo:"Header_logo__3_SJs",login:"Header_login__3V3Qa",loginButton:"Header_loginButton__3LgSO"}},52:function(e,t,n){e.exports={selectedPage:"pagination_selectedPage__1tpY_",pagination:"pagination_pagination__3TYst",list:"pagination_list__3Bf1-"}},69:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dialogs_items:"Dialogs_dialogs_items__16PrC",dialog:"Dialogs_dialog__lk_cw",active:"Dialogs_active__2sQhs",messages:"Dialogs_messages__1w_Up",message:"Dialogs_message__1xIDh"}},87:function(e,t,n){e.exports={dialogs_items:"DialogsItem_dialogs_items__2xBDH",dialog:"DialogsItem_dialog__1ke1t",active:"DialogsItem_active__2N6yg"}},93:function(e,t,n){e.exports={head_prof_img:"ProfileInfo_head_prof_img__2S1ts",descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y",descriptionList:"ProfileInfo_descriptionList__3r72J"}}},[[168,1,2]]]);
//# sourceMappingURL=main.b3802d6c.chunk.js.map